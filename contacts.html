<!DOCTYPE html>
<html ng-app="myApp">
<head lang="en">
    <meta charset="UTF-8">
    <title></title>
    <script src="bower_components/angular/angular.js"></script>
    <script>
        angular.module('myApp', []).controller('MyController', function ($scope, Contact) {
            $scope.message = 'Hello';
        }).factory('Contact', function () {
            // This is a factory function that will return a service (singleton object)

            var contacts = []; // a private container to store the contacts array
            function uuid() {
                // a v4 compliant way of generating a uuid
                // refer: http://stackoverflow.com/questions/105034/create-guid-uuid-in-javascript
                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
                    var r = Math.random()*16|0, v = c == 'x' ? r : (r&0x3|0x8);
                    return v.toString(16);
                });
            }
            return  {
                save: function (contact) {
                    contact._id = uuid();
                    contacts.push(contact);
                    console.log(contacts);
                }
            }
        });
    </script>
</head>
<body>
    <section>
        <h1>Create A Contact</h1>
        <div ng-controller="MyController">
            <input type="text" ng-model="contact.name"/>
            <input type="email" ng-model="contact.email"/>
            <input type="tel" ng-model="contact.phone"/>
            <button ng-click="saveContact()">Save Contact</button>
        </div>
    </section>

    <section>
        <h1>List All Contacts</h1>
        <button ng-click="printList()">List</button>

    </section>
</body>
</html>

